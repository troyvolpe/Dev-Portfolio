# Raspberry Pi Deployment Guide\n\nThis guide walks you through deploying the portfolio website on a Raspberry Pi with a custom domain.\n\n## Prerequisites\n\n- Raspberry Pi 4 (recommended) with Raspberry Pi OS\n- Domain name (purchased from registrar)\n- Router with port forwarding capabilities\n- Basic command line knowledge\n\n## Step 1: Prepare Your Raspberry Pi\n\n### Update the system\n```bash\nsudo apt update && sudo apt upgrade -y\n```\n\n### Install Node.js\n```bash\ncurl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -\nsudo apt-get install -y nodejs\n```\n\n### Install Nginx\n```bash\nsudo apt install nginx -y\nsudo systemctl enable nginx\nsudo systemctl start nginx\n```\n\n### Install Git\n```bash\nsudo apt install git -y\n```\n\n## Step 2: Clone and Build the Portfolio\n\n### Clone the repository\n```bash\ncd /home/pi\ngit clone https://github.com/troyvolpe/Dev_Portfolio.git\ncd Dev_Portfolio/dev-portfolio\n```\n\n### Install dependencies and build\n```bash\nnpm install\nnpm run build\n```\n\n## Step 3: Configure Nginx\n\n### Create site configuration\n```bash\nsudo nano /etc/nginx/sites-available/portfolio\n```\n\nAdd the following configuration:\n```nginx\nserver {\n    listen 80;\n    server_name your-domain.com www.your-domain.com;\n    root /home/pi/Dev_Portfolio/dev-portfolio/build;\n    index index.html;\n\n    location / {\n        try_files $uri $uri/ /index.html;\n    }\n\n    # API proxy for visitor logger\n    location /api/ {\n        proxy_pass http://localhost:3001/;\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection 'upgrade';\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        proxy_cache_bypass $http_upgrade;\n    }\n\n    # Security headers\n    add_header X-Frame-Options \"SAMEORIGIN\" always;\n    add_header X-XSS-Protection \"1; mode=block\" always;\n    add_header X-Content-Type-Options \"nosniff\" always;\n    add_header Referrer-Policy \"no-referrer-when-downgrade\" always;\n    add_header Content-Security-Policy \"default-src 'self' http: https: data: blob: 'unsafe-inline'\" always;\n}\n```\n\n### Enable the site\n```bash\nsudo ln -s /etc/nginx/sites-available/portfolio /etc/nginx/sites-enabled/\nsudo rm /etc/nginx/sites-enabled/default\nsudo nginx -t\nsudo systemctl reload nginx\n```\n\n## Step 4: Set Up Visitor Logger Service\n\n### Create service file\n```bash\nsudo nano /etc/systemd/system/visitor-logger.service\n```\n\nAdd the following:\n```ini\n[Unit]\nDescription=Portfolio Visitor Logger\nAfter=network.target\n\n[Service]\nType=simple\nUser=pi\nWorkingDirectory=/home/pi/Dev_Portfolio/dev-portfolio/src/visitor-logger\nExecStart=/usr/bin/node server.js\nRestart=always\nRestartSec=10\nEnvironment=NODE_ENV=production\nEnvironment=PORT=3001\n\n[Install]\nWantedBy=multi-user.target\n```\n\n### Start the service\n```bash\nsudo systemctl enable visitor-logger\nsudo systemctl start visitor-logger\nsudo systemctl status visitor-logger\n```\n\n## Step 5: Configure Domain and DNS\n\n### Find your public IP\n```bash\ncurl ifconfig.me\n```\n\n### Configure DNS\nIn your domain registrar's DNS settings:\n- Add an A record: `@` pointing to your public IP\n- Add an A record: `www` pointing to your public IP\n\n### Configure Router Port Forwarding\n- Forward port 80 (HTTP) to your Pi's local IP\n- Forward port 443 (HTTPS) to your Pi's local IP\n\n## Step 6: Set Up SSL Certificate (Optional but Recommended)\n\n### Install Certbot\n```bash\nsudo apt install certbot python3-certbot-nginx -y\n```\n\n### Obtain SSL certificate\n```bash\nsudo certbot --nginx -d your-domain.com -d www.your-domain.com\n```\n\n### Set up auto-renewal\n```bash\nsudo crontab -e\n```\n\nAdd this line:\n```bash\n0 12 * * * /usr/bin/certbot renew --quiet\n```\n\n## Step 7: Set Up Automatic Updates\n\n### Create update script\n```bash\nnano /home/pi/update-portfolio.sh\n```\n\nAdd:\n```bash\n#!/bin/bash\ncd /home/pi/Dev_Portfolio/dev-portfolio\ngit pull origin main\nnpm install\nnpm run build\nsudo systemctl reload nginx\nsudo systemctl restart visitor-logger\necho \"Portfolio updated: $(date)\" >> /home/pi/update.log\n```\n\n### Make it executable\n```bash\nchmod +x /home/pi/update-portfolio.sh\n```\n\n### Set up cron job for weekly updates\n```bash\ncrontab -e\n```\n\nAdd:\n```bash\n0 2 * * 0 /home/pi/update-portfolio.sh\n```\n\n## Step 8: Monitoring and Maintenance\n\n### Check service status\n```bash\nsudo systemctl status nginx\nsudo systemctl status visitor-logger\n```\n\n### View logs\n```bash\nsudo journalctl -u visitor-logger -f\nsudo tail -f /var/log/nginx/access.log\nsudo tail -f /var/log/nginx/error.log\n```\n\n### Monitor system resources\n```bash\nhtop\ndf -h\nfree -h\n```\n\n## Troubleshooting\n\n### Common Issues\n\n1. **Site not loading**: Check Nginx status and configuration\n2. **Visitor logger not working**: Check service status and logs\n3. **SSL issues**: Verify domain DNS propagation\n4. **Performance issues**: Monitor Pi resources\n\n### Useful Commands\n```bash\n# Restart all services\nsudo systemctl restart nginx visitor-logger\n\n# Check port usage\nsudo netstat -tlnp\n\n# Test Nginx configuration\nsudo nginx -t\n\n# View system journal\nsudo journalctl -xe\n```\n\n## Security Considerations\n\n1. **Firewall**: Consider setting up UFW firewall\n2. **SSH**: Disable password authentication, use key-based auth\n3. **Updates**: Keep system packages updated\n4. **Monitoring**: Set up basic intrusion detection\n5. **Backups**: Regular backups of your configuration\n\n## Performance Optimization\n\n1. **Nginx caching**: Enable static file caching\n2. **Gzip compression**: Enable in Nginx\n3. **HTTP/2**: Enable for better performance\n4. **Image optimization**: Optimize images before deployment\n\n## Maintenance Schedule\n\n- **Daily**: Check system status\n- **Weekly**: Review logs, update portfolio\n- **Monthly**: System updates, security review\n- **Quarterly**: Full backup and disaster recovery test\n\nYour portfolio should now be live at your custom domain! ðŸš€